# 로또 게임

## 규칙
- 1등 : 6개 번호 모두 일치
- 2등 : 5개 번호 일치 + 나머지 1개가 보너스 번호 일치
- 3등 : 5개 번호 일치
- 4등 : 4개 번호 일치
- 5등 : 3개 번호 일치
- 로또 당첨 금액은 고정되어 있는 것으로 가정한다.
  - 1등 : 2,000,000,000원
  - 2등 : 30,000,000원
  - 3등 : 1,500,000원
  - 4등 : 50,000원
  - 5등 : 5,000원

## 구현할 기능 목록
- 로또 구입 금액을 입력받는다.
- 입력받은 구입 금액이 적절한 값인지 겅증해야 한다.
- 구입 금액에 해당하는 로또를 발급해야 한다(로또 1장의 가격은 1000원이다).
- 발급된 로또의 번호는 랜덤으로 정해지며 서로 다른 6개의 숫자로 구성되어야 한다.
- 당첨 번호를 입력받는다.
- 보너스 볼의 번호를 입력받는다.
- 로또 번호가 서로 다른 6개의 숫자인지 검증해야 한다.
- 로또 번호가 1 ~ 45 사이의 자연수인지 검증해야 한다.
- 구입 금액이 1,000의 배수인지 검증해야 한다.
- 규칙에 따른 당첨 여부를 확인해야 한다.
- 당첨금 총액을 계산해야 한다.
- 수익률을 계산해야 한다(%로 표시해도 된다).

## 피드백 및 개선사항
- 객체의 상태값을 객체 외부에서 비교하는 것을 조심하자.
- 메서드를 구현할 때 `정적 팩토리 메서드`를 이용하는 것 또한 고려해보자.
- 드문드문 보이는 `하드코딩`에 주의하자.
- 객체의 불변성과 안전성을 보장하기 위해 깊은 복사의 개념을 유의하도록 하자.
- 클래스의 크기가 커졌다면 세부적으로 클래스를 분리하는 것도 고려해보자.
- 예외를 처리할 때 발생할 수 있는 다양한 시나리오(`Stack Over flow` 등)에 대해서도 고려하도록 하자.
- [객체지향 생활 체조 원칙](https://developerfarm.wordpress.com/2012/02/03/object_calisthenics_summary/)의 규칙3을 적용할 수 있도록 노력해보자. 좀 더 객체지향에 가까워질 것이다.
- 코드의 가독성에 신경 쓰자(코드 컨벤션 참조).
- 화폐단위의 계산 또는 실수형 계산을 할 때는, `BigDecimal`을 사용하는 것이 좋다.
- 객체 생성 시 뿐만 아니라 입력을 받을 때도 유효성을 검증해주면 좀 더 안전한 설계가 될 것이다.
- 메서드 내에서만 사용되는 변수를 `전역 변수(static)`로 선언하는 것은 좋지 못하다.
- 테스트를 작성할 때 `@BeforeEach`등의 어노테이션을 활용할 수 있도록 하자.
- 특별히 비즈니스 로직이 있지 않다면 테스트 작성을 굳이 할 필요가 있는지에 대해 생각해보자.
- 확실하게 경우의 수가 존재하는 테스트의 경우, 모든 경우의 수를 검증하는 것이 좋을 것이다.
- 객체의 상태값으로 갖는 `Integer`도 `Wrapping`하게 된다면, 해당 상태에 대한 유효성 검증을 따로 분리할 수 있게 된다. 이는 [객체지향 생활 체조 총정리](https://developerfarm.wordpress.com/2012/02/03/object_calisthenics_summary/)에서 `규칙 3(모든 원시값과 문자열을 포장한다)`에 대한 이야기를 하는 것이다.
- `getter`로 가져온 값을 변경하여도 본래의 값에는 영향이 없도록 해야한다.
- 메서드 내에서만 사용되는 변수를 전역변수, static 영역으로 가져오는 것은 좋지 못하다.
- 비즈니스 로직이 없다면 테스트 작성을 과연 해야하는지에 대해서 고민해보자.
- 경우의 수가 확실하게 정해져있는 경우, 모든 경우의 수에 대해서 테스트를 하는 것이 신뢰도를 높일 수 있다.
- 리팩토링을 할 때, 테스트 코드 또한 리팩토링의 대상이다.
- 무작정 메서드 추출을 한다고해서 좋은 것이 아니다. 적절하게 사용해야 한다.
- `Arrays.asList()` 등의 팩토리 메서드를 적절히 이용하도록 하자.
- 적절한 변수 네이밍을 통해 불필요한 변수할당을 줄이도록 하자.

## 참고자료
- [디자인 패턴 : 전략패턴이란?](https://velog.io/@kyle/%EB%94%94%EC%9E%90%EC%9D%B8-%ED%8C%A8%ED%84%B4-%EC%A0%84%EB%9E%B5%ED%8C%A8%ED%84%B4%EC%9D%B4%EB%9E%80)
- [정적 메소드, 너 써도 될까?](https://woowacourse.github.io/javable/2020-07-16/static-method)
- [얕은 복사 VS 깊은 복사](https://rok93.tistory.com/entry/%EC%96%95%EC%9D%80%EB%B3%B5%EC%82%AC-VS-%EA%B9%8A%EC%9D%80%EB%B3%B5%EC%82%AC)
- [BigDecimal이란?](https://12soso12.tistory.com/12)
- [BigDecimal (feat. 소수점 계산)](https://ellune.tistory.com/25)
- [A Guide to JUnit 5](https://www.baeldung.com/junit-5#1-beforeall-and-beforeeach)
- [07-4 예외처리 (Exception)](https://wikidocs.net/229)
- [@BeforeAll and @BeforeEach](https://www.baeldung.com/junit-5#1-beforeall-and-beforeeach)

---
